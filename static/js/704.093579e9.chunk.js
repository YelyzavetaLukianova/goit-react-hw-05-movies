"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[704],{687:function(t,e,n){n.d(e,{ex:function(){return l},VI:function(){return p},X3:function(){return f},wd:function(){return i},GQ:function(){return o}});var r=n(861),a=n(757),c=n.n(a),u="73e9137b2a364bbb6dc0bcf09aa07979",s="https://api.themoviedb.org/3",o=function(){var t=(0,r.Z)(c().mark((function t(){var e,n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(s,"/trending/movie/day?api_key=").concat(u));case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,r=n.results,t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=(0,r.Z)(c().mark((function t(e){var n,r,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(s,"/search/movie?api_key=").concat(u,"&query=").concat(e));case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,a=r.results,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(s,"/movie/").concat(e,"?api_key=").concat(u));case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,r.Z)(c().mark((function t(e){var n,r,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(s,"/movie/").concat(e,"/credits?api_key=").concat(u));case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,a=r.cast,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,r.Z)(c().mark((function t(e){var n,r,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(s,"/movie/").concat(e,"/reviews?api_key=").concat(u));case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,a=r.results,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},704:function(t,e,n){n.r(e),n.d(e,{default:function(){return h}});var r=n(861),a=n(152),c=n(757),u=n.n(c),s=n(791),o=n(523),i=n(494),f=n(184),p=function(t){var e=t.onSubmit,n=t.initValue,r=(0,s.useState)(n),c=(0,a.Z)(r,2),u=c[0],o=c[1];return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("header",{className:"Searchbar",children:(0,f.jsxs)("form",{className:"SearchForm",onSubmit:function(t){t.preventDefault(),""!==u.trim()?e(u):alert("Enter what do You want")},children:[(0,f.jsx)("input",{name:"imageName",value:u,className:"SearchForm__input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(t){o(t.target.value.toLowerCase())}}),(0,f.jsxs)("button",{type:"submit",className:"SearchForm__button",children:[(0,f.jsx)("span",{className:"SearchForm__button__label",children:"Search"}),(0,f.jsx)(i.Yfv,{})]})]})})})},l=n(687),h=function(){var t=(0,s.useState)((function(){var t;return null!==(t=function(t){try{return JSON.parse(localStorage.getItem(t))}catch(e){return null}}("movieName"))&&void 0!==t?t:""})),e=(0,a.Z)(t,2),n=e[0],c=e[1],i=(0,s.useState)([]),h=(0,a.Z)(i,2),m=h[0],v=h[1];(0,s.useEffect)((function(){if(n){var t=function(){var t=(0,r.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.wd)(n);case 2:e=t.sent,v(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}}),[n]);return(0,f.jsxs)("div",{children:[(0,f.jsx)(p,{onSubmit:function(t){!function(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(n){return null}}("movieName",t),c(t)},initValue:n}),(0,f.jsx)("ul",{className:"MoviesPage__item",children:m.map((function(t){return(0,f.jsx)("li",{children:(0,f.jsx)(o.rU,{to:"/movies/".concat(t.id),children:t.title})},t.id)}))})]})}}}]);
//# sourceMappingURL=704.093579e9.chunk.js.map